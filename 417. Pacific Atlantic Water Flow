from collections import deque
class Solution:
    def pacificAtlantic(self, heights: List[List[int]]) -> List[List[int]]:
            rows=len(heights) 
            cols=len(heights[0])
            pacq = deque()
            atlq= deque()
            pseen=set()
            aseen=set()
            for j in range(cols):
                pacq.append([0,j])
                pseen.add((0,j))
            for i in range(1,rows):
                pacq.append([i,0])
                pseen.add((i,0))
            for j in range(rows):
                atlq.append([j,cols-1])
                aseen.add((j,cols-1))
            for i in range(0,cols-1):
                atlq.append([rows-1,i])
                aseen.add((rows-1,i))
            def findcoords(que,seen):
                while que:
                    ([i,j])=que.popleft()
                    directions=([0,1],[1,0],[-1,0],[0,-1])
                    for dir in directions:
                        newr=dir[0]+i
                        newc=dir[1]+j
                        if 0<=newr<rows and 0<=newc<cols and (newr,newc) not in seen and heights[newr][newc] >= heights[i][j]:
                            seen.add((newr,newc))
                            que.append([newr,newc])

            findcoords(pacq,pseen)
            findcoords(atlq,aseen)
            return list(pseen.intersection(aseen))
            



            
